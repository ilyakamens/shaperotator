<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Stub HTML with JS Part</title>
    <style>
      html,
      body {
        height: 100%;
        margin: 0;
        padding: 0;
      }

      body {
        width: 100vw;
        height: 100vh;
        overflow: hidden;
      }

      #canvas {
        display: block;
        width: 100vw;
        height: 100vh;
      }
    </style>
  </head>
  <body>
    <nav
      style="
        background: #f8f8f8;
        border-bottom: 1px solid;
        padding: 12px 0;
        text-align: center;
      "
    >
      <a
        href="#/"
        style="
          margin: 0 20px;
          text-decoration: none;
          color: #333;
          font-weight: bold;
        "
        >Home</a
      >
      <a
        href="#/line"
        style="
          margin: 0 20px;
          text-decoration: none;
          color: #333;
          font-weight: bold;
        "
        >Line</a
      >
      <a
        href="#/triangle"
        style="
          margin: 0 20px;
          text-decoration: none;
          color: #333;
          font-weight: bold;
        "
        >Triangle</a
      >
      <a
        href="#/about"
        style="
          margin: 0 20px;
          text-decoration: none;
          color: #333;
          font-weight: bold;
        "
        >About</a
      >
    </nav>
    <canvas id="canvas"></canvas>
    <script>
      const canvas = document.getElementById('canvas');

      function resizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        handleHashChange();
      }

      function handleHashChange() {
        const hash = window.location.hash || '#/';

        switch (hash) {
          case '#/':
            // Default view - could be empty canvas or home view
            clearCanvas();
            break;
          case '#/line':
            drawLine();
            break;
          case '#/triangle':
            drawTriangle();
            break;
          case '#/about':
            drawAbout();
            break;
          default:
            clearCanvas();
            break;
        }
      }

      function clearCanvas() {
        const ctx = canvas.getContext('2d');
        ctx.reset();
      }

      function drawAbout() {
        const ctx = canvas.getContext('2d');
        ctx.reset();

        const width = canvas.width;
        const height = canvas.height;

        ctx.fillStyle = '#333';
        ctx.font = '24px Arial';
        ctx.textAlign = 'center';
        ctx.fillText('About Page', width / 2, height / 2 - 50);

        ctx.font = '16px Arial';
        ctx.fillText(
          'This is a simple shape rotator application',
          width / 2,
          height / 2
        );
        ctx.fillText(
          'Use the navigation to switch between different views',
          width / 2,
          height / 2 + 30
        );
      }

      function drawLine() {
        const ctx = canvas.getContext('2d');
        ctx.reset();

        const width = canvas.width;
        const height = canvas.height;

        const lineWidth = Math.random() * 1000;

        ctx.translate(width / 2, height / 2);
        ctx.rotate(Math.PI * 2 * Math.random());
        ctx.translate(-width / 2, -height / 2);
        ctx.fillStyle = 'red';
        ctx.fillRect(width / 2 - lineWidth / 2, height / 2, lineWidth, 1);
      }

      function drawTriangle() {
        const ctx = canvas.getContext('2d');
        const width = canvas.width;
        const height = canvas.height;

        // Triangle points (original)
        const points = [
          { x: Math.random() * 500 + 1, y: Math.random() * 500 + 1 },
          { x: Math.random() * 500 + 1, y: Math.random() * 500 + 1 },
          { x: Math.random() * 500 + 1, y: Math.random() * 500 + 1 },
        ];

        // Calculate centroid of the triangle
        const centroid = {
          x: (points[0].x + points[1].x + points[2].x) / 3,
          y: (points[0].y + points[1].y + points[2].y) / 3,
        };

        // Calculate canvas center
        const center = { x: width / 2, y: height / 2 };

        // Offset to move centroid to canvas center
        const offset = {
          x: center.x - centroid.x,
          y: center.y - centroid.y,
        };

        // Create new Path2D with translated points
        let region = new Path2D();
        region.moveTo(points[0].x + offset.x, points[0].y + offset.y);
        region.lineTo(points[1].x + offset.x, points[1].y + offset.y);
        region.lineTo(points[2].x + offset.x, points[2].y + offset.y);
        region.closePath();

        // Draw only the border (stroke) of the triangle
        ctx.strokeStyle = 'black';
        ctx.lineWidth = 1; // You can adjust the border thickness here
        ctx.stroke(region);
      }

      window.addEventListener('hashchange', handleHashChange);
      window.addEventListener('resize', resizeCanvas);

      resizeCanvas();
    </script>
  </body>
</html>
